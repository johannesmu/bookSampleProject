(this["webpackJsonpsample-project"]=this["webpackJsonpsample-project"]||[]).push([[0],{30:function(e,t,a){},31:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(24),r=a.n(s),o=(a(30),a(5)),i=(a(31),a(10)),l=a(1);function u(e){var t=e.navigation.map((function(e,t){return Object(l.jsx)(i.c,{exact:!0,to:e.link,className:"nav-link",activeClassName:"active",children:e.name},t)}));return Object(l.jsx)("div",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)(i.b,{className:"navbar-brand order-0 order-sm-0 order-md-0",to:"/",children:e.name}),Object(l.jsx)("button",{className:"navbar-toggler order-3 order-sm-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsxs)("form",{className:"d-flex flex-fill my-3 my-md-0 flex-fill order-4 order-sm-3 order-md-2",children:[Object(l.jsx)("input",{className:"form-control me-md-2",type:"search",placeholder:"Search for books","aria-label":"Search"}),Object(l.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:Object(l.jsx)("i",{className:"fas fa-search"})})]}),Object(l.jsxs)("nav",{className:"navbar navbar-nav flex-row mx-2 order-2 order-sm-2 order-md-3",style:{display:e.auth?"flex":"none"},children:[Object(l.jsxs)(i.b,{className:"nav-link px-3 py-sm-0 ",to:"/profile",children:[Object(l.jsx)("span",{className:"d-none d-sm-inline-block mx-2",children:"Profile"}),Object(l.jsx)("i",{className:"fas fa-user"})]}),Object(l.jsxs)(i.b,{className:"nav-link px-3 py-sm-0",to:"/favourites",children:[Object(l.jsx)("span",{className:"d-none d-sm-inline-block mx-2",children:"Favourites"}),Object(l.jsx)("i",{className:"fas fa-heart"})]})]}),Object(l.jsx)("div",{className:"collapse navbar-collapse order-5 order-sm-5 order-md-5",id:"navbarSupportedContent",children:Object(l.jsx)("nav",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:t})})]})})}var d=a(6),b={apiKey:"AIzaSyAlGbIpy-cLedszMWZnF7dfwVldSCxLDsU",authDomain:"booksdemo-92e4e.firebaseapp.com",projectId:"booksdemo-92e4e",storageBucket:"booksdemo-92e4e.appspot.com",messagingSenderId:"748036697485",appId:"1:748036697485:web:4ae0f1ee53173e7f7d21c4"},j=a(16);a(40),a(45),a(46),a(43);function m(e){return Object(l.jsx)("div",{className:"spinner-body",style:{minHeight:"100%",display:"grid",placeItems:"center",fontSize:e.size+"px",color:"#cccccc"},children:Object(l.jsx)("i",{className:"fas fa-circle-notch spinner"})})}function h(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],s=a[1];if(Object(n.useEffect)((function(){s(e.data)}),[e.data]),c){var r=c.map((function(e,t){return Object(l.jsx)("div",{className:"col-sm-6 col-lg-3 my-2",children:Object(l.jsxs)("div",{className:"card position-relative",style:{minHeight:"100%"},children:[Object(l.jsx)(i.b,{className:"position-absolute",to:"book/"+e.id,style:{top:0,bottom:0,left:0,right:0}}),Object(l.jsx)("img",{src:e.cover_image,className:"card-img-top border border-primary",alt:e.title,style:{maxWidth:"100%",aspectRatio:"3/4",objectFit:"cover",objectPosition:"center"}}),Object(l.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(l.jsx)("h5",{className:"card-title",children:e.title}),Object(l.jsx)("p",{className:"flex-fill",style:{minHeight:"5ch"},children:e.tagline}),Object(l.jsxs)("p",{children:["by ",e.author]})]})]})},t)}));return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)("h2",{children:"Books"}),Object(l.jsx)("div",{className:"row align-items-stretch",children:r})]})}return Object(l.jsx)(m,{size:64})}function f(e){return Object(l.jsx)("div",{className:"about",children:Object(l.jsx)("h2",{children:"About"})})}function O(e){var t=[];return 0===e.indexOf("@")&&t.push('Need username before "@" symbol'),-1===e.indexOf("@")&&t.push('Need "@" symbol after username'),e.split(".").length<2&&t.push("Need tld, eg .com"),0===t.length?{valid:!0,errors:t}:{valid:!1,errors:t}}function p(e){var t=Object(d.f)(),a=new URLSearchParams(Object(d.g)().search),c=Object(n.useState)(),s=Object(o.a)(c,2),r=s[0],u=s[1],b=Object(n.useState)(),j=Object(o.a)(b,2),m=j[0],h=j[1],f=Object(n.useState)([]),p=Object(o.a)(f,2),x=p[0],v=p[1],g=Object(n.useState)(),N=Object(o.a)(g,2),y=N[0],w=N[1],S=Object(n.useState)([]),k=Object(o.a)(S,2),P=k[0],F=k[1],I=Object(n.useState)(),E=Object(o.a)(I,2),B=E[0],C=E[1],H=Object(n.useState)([]),A=Object(o.a)(H,2),D=A[0],R=A[1],L=Object(n.useState)(!1),T=Object(o.a)(L,2),_=T[0],z=T[1];Object(n.useEffect)((function(){var e=a.get("returnPath");void 0!==e&&u(e)}),[a]),Object(n.useEffect)((function(){z(!!(m&&y&&B))}),[m,y,B]);var U=function(e,t){return!0===t?"".concat(e,"  is-valid"):!1===t?"".concat(e,"  is-invalid"):e};return Object(l.jsx)("div",{className:"row mt-4",children:Object(l.jsxs)("form",{className:"col-md-6 offset-md-3 col-lg-4 offset-lg-4",id:"register",onSubmit:function(a){a.preventDefault();var n=new FormData(a.target);e.handler(n.get("username"),n.get("email"),n.get("password")).then((function(e){e&&t.push(r?"/"+r:"/")})).catch((function(e){console.error()}))},children:[Object(l.jsx)("h4",{children:"Register for an account"}),Object(l.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username"}),Object(l.jsx)("input",{className:U("form-control",m),type:"text",name:"username",id:"username",onChange:function(e){var t=function(e){var t=[];e.length<6&&t.push("minimum 6 characters");var a="~!@#$%^&*()+=-`|{}[]:;\"'\\?/><,. ".split(""),n=e.split(""),c=0;return n.forEach((function(e){a.includes(e)&&c++})),c>0&&t.push("contains ".concat(c," invalid ").concat(c>1?"characters":"character")),Number(e)&&t.push("cannot contain only numbers"),Number(e.charAt(0))&&t.push("first character cannot be a number"),0===t.length?{valid:!0,errors:t}:{valid:!1,errors:t}}(e.target.value);!1===t.valid?(v(t.errors.join(", ")),h(!1)):h(!0)},placeholder:"letters and numbers no spaces"}),Object(l.jsx)("div",{className:"invalid-feedback",children:x}),Object(l.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),Object(l.jsx)("input",{className:U("form-control",y),type:"email",name:"email",id:"email",onChange:function(e){var t=O(e.target.value);!1===t.valid?(F(t.errors.join(", ")),w(!1)):w(!0)},placeholder:"me@example.com"}),Object(l.jsx)("div",{className:"invalid-feedback",children:P}),Object(l.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{className:U("form-control",B),type:"password",name:"password",id:"password",placeholder:"minimum 8 characters",onChange:function(e){var t=function(e){var t=[];e.length<8&&t.push("Minimum length is 8 characters");var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=e.split(""),c=0,s=0;return n.forEach((function(e){a.includes(e)&&c++,parseInt(e)&&s++})),0===c&&t.push("Need to contain a capital letter"),0===s&&t.push("Need to contain a number"),0===t.length?{valid:!0,errors:t}:{valid:!1,errors:t}}(e.target.value);!1===t.valid?(R(t.errors.join(", ")),C(!1)):C(!0)}}),Object(l.jsx)("div",{className:"invalid-feedback",children:D}),Object(l.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(l.jsx)("button",{type:"submit",className:"btn btn-primary flex-fill",disabled:!_,children:"Register"})}),Object(l.jsx)("div",{className:"my-4 text-center",children:Object(l.jsx)(i.b,{to:"login",children:"Already have an account? Sign in here"})})]})})}function x(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(),u=Object(o.a)(r,2),b=u[0],j=u[1],m=Object(n.useState)(),h=Object(o.a)(m,2),f=h[0],p=h[1],x=Object(n.useState)(),v=Object(o.a)(x,2),g=v[0],N=v[1],y=Object(n.useState)(),w=Object(o.a)(y,2),S=w[0],k=w[1],P=Object(n.useState)(!1),F=Object(o.a)(P,2),I=F[0],E=F[1],B=Object(n.useState)(!1),C=Object(o.a)(B,2),H=(C[0],C[1]),A=Object(n.useState)(),D=Object(o.a)(A,2),R=(D[0],D[1]),L=Object(d.f)(),T=new URLSearchParams(Object(d.g)().search);Object(n.useEffect)((function(){var e=T.get("returnPath"),t=T.get("msg");void 0!==e&&s(e),void 0!==t?(R(unescape(t)),H(!0)):R(null)}),[T]),Object(n.useEffect)((function(){E(!(!b||!g))}),[b,g,I]);var _=function(e,t){return!0===t?"".concat(e,"  is-valid"):!1===t?"".concat(e,"  is-invalid"):e};return Object(l.jsx)("div",{className:"row mt-4",children:Object(l.jsxs)("form",{className:"col-md-4 offset-md-4",id:"login",onSubmit:function(t){t.preventDefault();var a=new FormData(t.target);e.handler(a.get("email"),a.get("password")).then((function(e){!0===e&&L.push(c?"/"+c:"/")})).catch((function(e){console.log(e)}))},children:[Object(l.jsx)("h4",{children:"Sign in to your account"}),Object(l.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),Object(l.jsx)("input",{className:_("form-control",b),type:"email",name:"email",id:"email",onChange:function(e){var t=O(e.target.value);!1===t.valid?(console.log(t.errors),p(t.errors.join(", ")),j(!1)):j(!0)}}),Object(l.jsx)("div",{className:"invalid-feedback",children:f}),Object(l.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{className:_("form-control",g),type:"password",name:"password",id:"password",onChange:function(e){e.target.value.length<8?(k("minimum 8 characters"),N(!1)):N(!0)}}),Object(l.jsx)("div",{className:"invalid-feedback",children:S}),Object(l.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(l.jsx)("button",{type:"submit",className:"btn btn-primary flex-fill",disabled:!I,children:"Login"})}),Object(l.jsx)("div",{className:"my-4 text-center",children:Object(l.jsx)(i.b,{to:c?"/register?returnPath="+c:"/register",children:"Don't have an account? Sign up here"})})]})})}function v(e){var t=Object(n.useState)("/"),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(d.f)();return Object(n.useEffect)((function(){e.redirect&&s(e.redirect),e.handler().then((function(){return r.push(c)})).catch((function(e){return console.log(e)}))}),[e,r,c]),Object(l.jsx)(m,{size:64})}function g(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){c||s(e.items)}),[e.items]);var r=function(e){for(var t=[],a=0;a<5;a++)t.push(a<e.number?1:0);var n=t.map((function(e){return 1===e?Object(l.jsx)("i",{className:"fas fa-star"}):Object(l.jsx)("i",{class:"far fa-star"})}));return Object(l.jsx)("div",{className:"d-flex",children:n})};if(c){var i=c.map((function(e,t){return Object(l.jsx)("div",{className:"review card my-2",children:Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h6",{className:"card-title",children:e.comment}),Object(l.jsx)(r,{number:e.stars})]})},t)}));return Object(l.jsxs)("div",{className:"reviews mt-4",children:[Object(l.jsxs)("h5",{children:["Reviews (",c.length,")"]}),i]})}return Object(l.jsx)("p",{children:"No reviews yet. Be the first to review!"})}function N(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(),i=Object(o.a)(r,2),u=(i[0],i[1],Object(n.useState)(!1)),b=Object(o.a)(u,2),j=b[0],h=b[1],f=Object(n.useState)(),O=Object(o.a)(f,2),p=O[0],x=O[1],v=Object(n.useState)(!1),N=Object(o.a)(v,2),y=N[0],w=N[1],S=Object(n.useState)(!1),k=Object(o.a)(S,2),P=(k[0],k[1],Object(d.h)().bookId),F=Object(d.f)();Object(n.useEffect)((function(){c||e.handler(P).then((function(e){return s(e)})).catch((function(e){return console.log(e)})),p||e.getReviews(P).then((function(e){x(e)})).catch((function(e){return console.log(e)}))})),Object(n.useEffect)((function(){p&&e.user&&p.forEach((function(t){t.userId==e.user.uid&&w(!0)}))}),[p]);return c?Object(l.jsxs)("div",{className:"row mt-4",children:[Object(l.jsx)("div",{className:"col-md-6",children:Object(l.jsx)("img",{className:"img-fluid",src:c.cover_image,alt:c.title+" cover"})}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h3",{children:c.title}),Object(l.jsxs)("h4",{children:["By ",c.author]}),Object(l.jsxs)("p",{children:[c.pages," pages"]}),Object(l.jsxs)("p",{children:["ISBN ",c.isbn13," ",c.isbn10]}),Object(l.jsxs)("p",{children:["Published by ",c.publisher]}),Object(l.jsxs)("p",{children:["Year ",c.year]}),Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){!0===e.auth?h(!0):F.push("/login?returnPath=book/".concat(P,"&msg=").concat(escape("Log in to review "+c.title)))},disabled:!!y,children:"Review book"}),Object(l.jsx)("button",{type:"button",className:"btn btn-primary ms-2",onClick:function(){!0===e.auth?e.favourites(P,c.title,e.user.uid).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})):F.push("/login?returnPath=book/".concat(P,"&msg=").concat(escape("Log in to add "+c.title+" to favourites")))},children:"Add to Favourites"})]}),Object(l.jsxs)("div",{className:"mt-4",style:{display:!0===j?"block":"none"},children:[Object(l.jsxs)("h5",{children:["Review ",c.title]}),Object(l.jsxs)("form",{id:"review",onSubmit:function(t){t.preventDefault();var a=new FormData(t.target),n={};a.forEach((function(e,t){return n[t]=e})),e.reviewHandler(n).then((function(){w(!0),h(!1)})).catch((function(e){return console.log(e)}))},children:[Object(l.jsx)("label",{htmlFor:"stars",children:"Stars"}),Object(l.jsxs)("select",{className:"form-select",name:"stars",id:"stars",defaultValue:"5",children:[Object(l.jsx)("option",{value:"1",children:"1 star"}),Object(l.jsx)("option",{value:"2",children:"2 stars"}),Object(l.jsx)("option",{value:"3",children:"3 stars"}),Object(l.jsx)("option",{value:"4",children:"4 stars"}),Object(l.jsx)("option",{value:"5",children:"5 stars"})]}),Object(l.jsx)("label",{children:"Say something about the book (no spoilers!)"}),Object(l.jsx)("textarea",{name:"comment",cols:"30",rows:"3",className:"form-control",placeholder:"I love this book, because it makes me think of cheese..."}),Object(l.jsx)("input",{type:"hidden",name:"bookId",value:P}),Object(l.jsx)("input",{type:"hidden",name:"userId",value:e.user?e.user.uid:""}),Object(l.jsx)("input",{type:"hidden",name:"userName",value:e.user?e.user.displayName:""}),Object(l.jsx)("button",{type:"submit",className:"btn btn-success mt-2",children:"Save"})]})]}),Object(l.jsx)(g,{items:p})]})]}):Object(l.jsx)(m,{size:64})}function y(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),u=i[0],d=i[1],b=function(e){return setTimeout((function(){s(null),d(!1)}),e.duration),Object(l.jsx)("div",{className:u?"alert alert-danger":"alert alert-success",style:{display:c?"block":"none"},children:e.content})};return Object(l.jsxs)("form",{id:"add-data",onSubmit:function(t){t.preventDefault();var a=new FormData(t.target);t.target.reset();var n=new Object;if(a.forEach((function(e,t){n[t]=e})),n.cover_image){var c=Math.random().toString(36).substr(2,5),r=n.cover_image.name,o="books/"+c+n.title+r;e.imageHandler(o,n.cover_image).then((function(t){n.cover_image=t,e.handler(n).then((function(e){s("The book has been added!"),d(!1)})).catch((function(e){s("There has been an error!"),d(!0)}))})).catch((function(e){return console.log(e)}))}else console.log("need image")},children:[Object(l.jsx)("h2",{children:"Add a book"}),Object(l.jsx)("label",{htmlFor:"title",children:"Book Title"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"title",placeholder:"Book title",id:"title"}),Object(l.jsx)("label",{htmlFor:"tagline",children:"Tag Line"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"tagline",placeholder:"Book tag line",id:"tagline"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("label",{htmlFor:"isbn13",children:"ISBN 13"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"isbn13",placeholder:"ISBN 13",id:"isbn13"})]}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("label",{htmlFor:"isbn10",children:"ISBN 10"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"isbn10",placeholder:"ISBN 10",id:"isbn10"})]})]}),Object(l.jsx)("label",{htmlFor:"author",children:"Author(s)"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"author",placeholder:"Separate multiple authors with comma",id:"author"}),Object(l.jsx)("label",{htmlFor:"publisher",children:"Publisher"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"publisher",placeholder:"Book publisher",id:"publisher"}),Object(l.jsx)("label",{htmlFor:"year",children:"Year"}),Object(l.jsx)("input",{type:"number",className:"form-control",name:"year",placeholder:"Year published",id:"year"}),Object(l.jsx)("label",{htmlFor:"pages",children:"Pages"}),Object(l.jsx)("input",{type:"number",className:"form-control",name:"pages",placeholder:"Pages",id:"pages"}),Object(l.jsx)("label",{htmlFor:"cover_image",children:"Image"}),Object(l.jsx)("input",{type:"file",className:"form-control",name:"cover_image",placeholder:"Cover image",id:"cover_image"}),Object(l.jsxs)("div",{className:"mt-3 buttons d-flex flex-row justify-content-between",children:[Object(l.jsx)("button",{type:"reset",className:"btn btn-secondary",children:"Reset"}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Book"})]}),Object(l.jsx)("div",{className:"my-2",children:Object(l.jsx)(b,{duration:3e3,content:c})})]})}function w(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(),i=Object(o.a)(r,2),u=i[0],m=i[1],O=Object(n.useState)(),g=Object(o.a)(O,2),w=g[0],S=g[1];j.a.apps.length||j.a.initializeApp(b),Object(n.useEffect)((function(){w||P().then((function(e){S(e)})).catch((function(e){return console.log(e)})),j.a.auth().onAuthStateChanged((function(t){t?(s(!0),m(t),e.authHandler(!0)):(s(!1),m(null),e.authHandler(!1))}))}));var k=j.a.firestore(),P=function(){return new Promise((function(e,t){k.collection("books").onSnapshot((function(t){var a=[];t.forEach((function(e){var t=e.data();t.id=e.id,a.push(t)})),e(a)}))}))},F=j.a.storage();return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{exact:!0,path:"/",children:Object(l.jsx)(h,{data:w})}),Object(l.jsx)(d.a,{path:"/about",children:Object(l.jsx)(f,{})}),Object(l.jsx)(d.a,{path:"/register",children:Object(l.jsx)(p,{handler:function(t,a,n){return new Promise((function(c,r){j.a.auth().createUserWithEmailAndPassword(a,n).then((function(n){n.user.updateProfile({displayName:t});var r={name:t,email:a,created:new Date};k.collection("users").doc(n.user.uid).set(r).then((function(t){console.log(t),m(n.user),s(!0),e.authHandler(!0),c(!0)}))})).catch((function(e){r(e)}))}))}})}),Object(l.jsx)(d.a,{path:"/login",children:Object(l.jsx)(x,{handler:function(t,a){return new Promise((function(n,c){j.a.auth().signInWithEmailAndPassword(t,a).then((function(t){m(t.user),s(!0),e.authHandler(!0),n(!0)})).catch((function(e){console.log(e),c(e)}))}))}})}),Object(l.jsx)(d.a,{path:"/logout",children:Object(l.jsx)(v,{handler:function(){return new Promise((function(t,a){j.a.auth().signOut().then((function(){m(null),s(!1),e.authHandler(!1),t(!0)})).catch((function(e){return a(!1)}))}))}})}),Object(l.jsx)(d.a,{path:"/book/:bookId",children:Object(l.jsx)(N,{handler:function(e){return new Promise((function(t,a){k.collection("books").doc(e).get().then((function(e){t(e.data())})).catch((function(e){return a(e)}))}))},auth:c,reviewHandler:function(e){return new Promise((function(t,a){console.log(e),k.collection("reviews").add(e).then((function(n){var c={path:k.doc(n.path)};k.collection("users").doc(e.userId).collection("reviews").add(c).then((function(){t(!0)})).catch((function(e){return a(e)}))})).catch((function(e){return a(e)}))}))},user:u,getReviews:function(e){return new Promise((function(t,a){k.collection("reviews").where("bookId","==",e).get().then((function(e){var a=[];e.forEach((function(e){var t=e.data();a.push(t)})),t(a)})).catch((function(e){a(e)}))}))},favourites:function(e,t,a){return new Promise((function(n,c){var s=k.collection("books").doc(e),r={id:e,title:t,bookRef:s};k.collection("users").doc(a).collection("favourites").add({bookData:r}).then((function(){return n(!0)})).catch((function(){return c(!1)}))}))}})}),Object(l.jsx)(d.a,{path:"/add",children:Object(l.jsx)(y,{handler:function(e){return new Promise((function(t,a){k.collection("books").add(e).then((function(){return t(!0)})).catch((function(e){return a(e)}))}))},imageHandler:function(e,t){return new Promise((function(a,n){F.ref(e).put(t).then((function(){F.ref(e).getDownloadURL().then((function(e){return a(e)})).catch((function(e){return n(e)}))})).catch((function(e){return n(e)}))}))}})})]})})}function S(e){return Object(l.jsx)("footer",{className:"footer bg-dark",children:Object(l.jsx)("div",{className:"container-fluid text-light",children:Object(l.jsx)("h1",{children:"Hello Footer"})})})}var k=[{name:"Home",link:"/"},{name:"About",link:"/about"},{name:"Register",link:"/register"},{name:"Login",link:"/login"}],P=[{name:"Home",link:"/"},{name:"About",link:"/about"},{name:"Log out",link:"/logout"}];var F=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{name:"Heart Books",navigation:a?P:k,auth:a}),Object(l.jsx)(w,{authHandler:c}),Object(l.jsx)(S,{})]})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(i.a,{children:Object(l.jsx)(F,{})})}),document.getElementById("root")),I()}},[[44,1,2]]]);
//# sourceMappingURL=main.ac54f7fc.chunk.js.map